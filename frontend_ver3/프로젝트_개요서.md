# 🔥 FireDrone 모바일 앱 - 프로젝트 개요서

## 📱 앱이 뭔가요?

드론이 하늘에서 화재를 찾아내는 것을 모니터링하는 스마트폰 앱입니다!
마치 드론을 조종하는 조종사처럼, 여러 드론의 상태를 한눈에 보고 관리할 수 있어요.

---

## 🎯 주요 기능 (3가지)

### 1️⃣ 드론 목록 화면 (Monitor 탭)
**"어떤 드론들이 있나요?"**

- 📋 등록된 드론 목록 보기
- ➕ 새 드론 등록하기 (이름만 입력하면 자동으로 ID 발급!)
- 🚁 드론 선택해서 상세 정보 보기

**어떻게 작동하나요?**
```
앱 시작 → 서버에서 드론 목록 가져오기 → 화면에 표시
         ↓
   5초마다 자동으로 새로고침
```

### 2️⃣ 모니터링 화면 (Monitor 탭에서 드론 선택 시)
**"드론이 지금 뭘 보고 있나요?"**

- 📹 실시간 영상 스트리밍 (준비 중이면 "연결 중..." 표시)
- 📍 GPS 위치 정보 (위도, 경도)
- 🌤️ 날씨 정보 (풍속, 습도)
- 🔥 최신 화재 감지 알림
- 📸 실시간 감지 갤러리 (접속 후 촬영된 사진들)

**어떻게 작동하나요?**
```
드론 선택 → 접속 시간 기록 → 1초마다 새 정보 가져오기
         ↓
    실시간 로그 + 라이브 포토 표시
```

### 3️⃣ 조회 화면 (History 탭)
**"어제는 뭘 감지했나요?"**

- 📅 날짜 선택 (달력에서 날짜 고르기)
- 📊 선택한 날짜의 감지 기록 보기
- 🖼️ 감지된 이미지와 확률 확인

**어떻게 작동하나요?**
```
날짜 선택 → 서버에서 해당 날짜 데이터 가져오기 → 화면에 표시
```

---

## 🔄 전체 플로우차트

```
┌─────────────────────────────────────────────────────────┐
│                    앱 시작 (로그인 없음)                    │
└────────────────────┬────────────────────────────────────┘
                     │
                     ▼
         ┌───────────────────────┐
         │   드론 목록 화면        │
         │  (Monitor 탭)          │
         │                        │
         │  📋 드론 목록 표시      │
         │  ➕ 등록 버튼          │
         └───────┬───────────────┘
                 │
        ┌────────┴────────┐
        │                 │
        ▼                 ▼
┌──────────────┐  ┌──────────────┐
│ 드론 선택    │  │ 드론 등록    │
└──────┬───────┘  └──────┬───────┘
       │                 │
       │                 ▼
       │        ┌──────────────┐
       │        │ 이름 입력     │
       │        │ (예: drone_01)│
       │        └──────┬───────┘
       │               │
       │               ▼
       │        ┌──────────────┐
       │        │ 서버에 등록    │
       │        │ ID 자동 발급  │
       │        │ (GK_2025_01)  │
       │        └──────┬───────┘
       │               │
       │               ▼
       │        ┌──────────────┐
       │        │ 목록에 추가   │
       │        └──────────────┘
       │
       ▼
┌──────────────────────┐
│  모니터링 화면        │
│                      │
│  📹 실시간 영상      │
│  📍 GPS 정보         │
│  🌤️ 날씨 정보        │
│  🔥 최신 감지 알림   │
│  📸 라이브 포토       │
└──────┬───────────────┘
       │
       │ (1초마다 자동 새로고침)
       │
       ▼
┌──────────────────────┐
│  뒤로가기 버튼        │
└──────┬───────────────┘
       │
       ▼
┌──────────────────────┐
│  드론 목록 화면으로    │
│  돌아가기             │
└──────────────────────┘


┌─────────────────────────────────────────────────────────┐
│                    History 탭 클릭                       │
└────────────────────┬────────────────────────────────────┘
                     │
                     ▼
         ┌───────────────────────┐
         │   조회 화면            │
         │                        │
         │  📅 날짜 선택 버튼      │
         └───────┬───────────────┘
                 │
                 ▼
         ┌───────────────────────┐
         │   달력에서 날짜 선택    │
         └───────┬───────────────┘
                 │
                 ▼
         ┌───────────────────────┐
         │  서버에서 해당 날짜     │
         │  데이터 가져오기        │
         └───────┬───────────────┘
                 │
                 ▼
         ┌───────────────────────┐
         │  감지 기록 목록 표시    │
         │  (이미지 + 확률)       │
         └───────────────────────┘
```

---

## 🔌 서버와의 통신

### 서버가 하는 일
- 드론 정보 저장 (이름, 위치, 접속 시간)
- 화재 감지 로그 저장 (시간, 확률, 이미지)
- 실시간 데이터 제공

### 앱이 하는 일
- 주기적으로 서버에 요청 (5초마다 목록, 1초마다 로그)
- 사용자가 입력한 정보를 서버에 전송
- 서버 응답을 화면에 표시

### 통신 실패 시
- 서버 연결이 안 되면 모의 데이터(가짜 데이터) 사용
- 앱이 멈추지 않고 계속 작동

---

## 📊 데이터 흐름도

```
┌─────────────┐
│   드론       │  (하늘에서 화재 감지)
└──────┬──────┘
       │
       │ 이미지 + GPS + 확률
       ▼
┌─────────────┐
│   서버       │  (MySQL 데이터베이스)
│  (백엔드)    │
└──────┬──────┘
       │
       │ API 요청/응답
       │ (5초마다 목록, 1초마다 로그)
       ▼
┌─────────────┐
│   모바일 앱  │  (React Native)
│  (프론트엔드)│
└──────┬──────┘
       │
       │ 화면에 표시
       ▼
┌─────────────┐
│   사용자     │  (당신!)
└─────────────┘
```

---

## 🎨 화면 구성

### 화면 1: 드론 목록
```
┌─────────────────────────┐
│  드론 목록               │
├─────────────────────────┤
│                         │
│  🚁 Drone Alpha         │
│     Active  🔋 82%      │
│                         │
│  🚁 Drone Beta          │
│     Charging 🔋 10%     │
│                         │
│  🚁 Drone Gamma         │
│     Offline 🔋 0%       │
│                         │
│                    [+]  │  (등록 버튼)
└─────────────────────────┘
```

### 화면 2: 모니터링
```
┌─────────────────────────┐
│  ← Home    Drone Alpha   │
├─────────────────────────┤
│                         │
│  📍 37.5665, 126.9780   │
│  🌤️ Wind 5m/s • Hum 50%│
│                         │
│  ┌───────────────────┐  │
│  │   LIVE FEED       │  │
│  │   (영상 영역)      │  │
│  └───────────────────┘  │
│                         │
│  🔥 최신 감지 알림       │
│  95% 화재 확률          │
│                         │
│  📸 실시간 감지 갤러리   │
│  [사진1] [사진2] [사진3]│
│                         │
└─────────────────────────┘
```

### 화면 3: 조회
```
┌─────────────────────────┐
│  조회                    │
├─────────────────────────┤
│                         │
│  📅 2024년 12월 26일    │
│                         │
│  ┌───────────────────┐  │
│  │  [이미지]          │  │
│  │  10:30:00         │  │
│  │  확률: 98%        │  │
│  └───────────────────┘  │
│                         │
│  ┌───────────────────┐  │
│  │  [이미지]          │  │
│  │  09:15:00         │  │
│  │  확률: 87%        │  │
│  └───────────────────┘  │
│                         │
└─────────────────────────┘
```

---

## ✅ 완료된 작업

1. ✅ **로그인 제거** - 앱을 열면 바로 드론 목록이 보여요
2. ✅ **드론 등록 기능** - 이름만 입력하면 자동으로 ID가 만들어져요
3. ✅ **설정 탭 제거** - Monitor와 History 두 개만 있어요
4. ✅ **서버 연동** - drone_app-main의 백엔드와 연결했어요

---

## 🚀 사용 방법

1. **앱 실행** → 드론 목록이 자동으로 보여요
2. **드론 등록** → 우측 하단 [+] 버튼 클릭 → 이름 입력 → 등록
3. **드론 선택** → 목록에서 드론 클릭 → 모니터링 화면으로 이동
4. **이력 조회** → 하단 History 탭 클릭 → 날짜 선택 → 기록 확인

---

## 💡 초등학생도 이해하는 비유

**드론 목록 화면** = 우리 반 학생 명단
- 누가 있는지 보고, 새 학생을 등록할 수 있어요

**모니터링 화면** = 선생님이 학생을 지켜보는 것
- 드론이 지금 뭘 보고 있는지, 어디에 있는지 실시간으로 확인해요

**조회 화면** = 일기장 보기
- 어제, 그저께 드론이 뭘 봤는지 기록을 확인해요

---

## 📝 요약

- **3개 화면**: 드론 목록, 모니터링, 조회
- **자동 새로고침**: 5초마다 목록, 1초마다 로그
- **서버 연동**: 백엔드와 실시간 통신
- **간편 등록**: 이름만 입력하면 끝!

**모든 기능이 정상 작동합니다! 🎉**

